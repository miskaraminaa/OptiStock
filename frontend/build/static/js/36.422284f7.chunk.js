(self.webpackChunkadmin_dashboard_template_OptiStock=self.webpackChunkadmin_dashboard_template_OptiStock||[]).push([[36],{6036:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(2791),a=t(1989),n=t(8573),i=t.n(n),c=t(184);class o extends s.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,r){console.error("ErrorBoundary caught an error:",e,r)}render(){return this.state.hasError?(0,c.jsxs)("div",{className:"text-center text-red-500 p-4",children:[(0,c.jsx)("h2",{children:"Une erreur est survenue."}),(0,c.jsx)("p",{children:"Veuillez r\xe9essayer plus tard ou contactez le support."})]}):this.props.children}}const l=()=>{const[e,r]=(0,s.useState)([]),[t,n]=(0,s.useState)(""),[l,d]=(0,s.useState)(1),[x,p]=(0,s.useState)(1),[m,h]=(0,s.useState)(!0),[u,b]=(0,s.useState)(null),N=i()((async(e,t)=>{try{h(!0);const s=await a.Z.get("http://localhost:5000/rangement",{params:{search:e,page:t}}),n=Array.isArray(s.data.data)?s.data.data:[];r(n),p(s.data.totalPages||1)}catch(n){var s;b("\xc9chec du chargement des donn\xe9es : ".concat(n.message)),console.error("Fetch error:",(null===(s=n.response)||void 0===s?void 0:s.data)||n.message)}finally{h(!1)}}),300);(0,s.useEffect)((()=>(N(t,l),()=>N.cancel())),[t,l]);const y=(0,s.useMemo)((()=>Array.isArray(e)&&0!==e.length?e.map(((e,r)=>(0,c.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:e.article_code||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[200px] whitespace-normal break-words",children:e.description||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:e.numero_magasin||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[80px]",children:e.division||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[80px]",children:e.warehouse||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[120px]",children:e.bin_location||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[80px]",children:e.type_magasin||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:null!=e.quantity?(0,c.jsxs)(c.Fragment,{children:[Number(e.quantity).toFixed(3),e.quantity<0&&(0,c.jsx)("span",{className:"text-red-500",children:" (Sortie)"})]}):"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[60px]",children:e.unit||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[80px]",children:e.type_stock||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[150px] whitespace-normal break-words",children:e.designation_type_stock||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[120px]",children:e.groupe_valorisation||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[80px]",children:null!=e.pmp?Number(e.pmp).toFixed(2):"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:null!=e.valeur_stock?Number(e.valeur_stock).toFixed(2):"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[60px]",children:e.devise||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:e.date_em||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:e.derniere_sortie||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:e.Marque||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[120px]",children:e.Oracle_item_code||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[200px] whitespace-normal break-words",children:e.migration_description||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:null!=e.Qt\u00e9_valid\u00e9e_SAP?Number(e.Qt\u00e9_valid\u00e9e_SAP).toFixed(3):"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:e.SAP_Material||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[80px]",children:e.PLANT||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:e.Plant_Valid\u00e9||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[120px]",style:{whiteSpace:"pre-wrap"},children:e.Storage_Location||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[150px] whitespace-normal break-words",children:e.Storage_location_Valid\u00e9||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[80px]",children:e.local||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[100px]",children:e.BIN_SAP||"N/A"}),(0,c.jsx)("td",{className:"py-1 px-2 border text-sm min-w-[250px]",style:{whiteSpace:"pre-wrap"},children:e.bins_with_qte_nx||"N/A"})]},e.article_code||"item-".concat(r)))):(0,c.jsx)("tr",{children:(0,c.jsx)("td",{colSpan:29,className:"py-1 px-2 border text-center text-gray-500 text-sm",children:"Aucune donn\xe9e disponible"})})),[e]);return(0,c.jsx)(o,{children:(0,c.jsxs)("div",{className:"container mx-auto p-4",children:[(0,c.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Guide de Rangement"}),(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsx)("input",{type:"text",placeholder:"Rechercher par code article, d\xe9signation ou marque",className:"w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",value:t,onChange:e=>{n(e.target.value),d(1)}})}),(0,c.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,c.jsx)("button",{onClick:()=>{l>1&&d(l-1)},disabled:1===l,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300 text-sm",children:"Pr\xe9c\xe9dent"}),(0,c.jsxs)("span",{className:"text-sm",children:["Page ",l," sur ",x]}),(0,c.jsx)("button",{onClick:()=>{l<x&&d(l+1)},disabled:l===x,className:"px-4 py-2 bg-blue-500 text-white rounded disabled:bg-gray-300 text-sm",children:"Suivant"})]}),m&&(0,c.jsx)("p",{className:"text-center text-sm",children:"Chargement..."}),u&&(0,c.jsx)("p",{className:"text-center text-red-500 text-sm",children:u}),!m&&!u&&(0,c.jsx)("div",{className:"overflow-x-auto",children:(0,c.jsxs)("table",{className:"min-w-full bg-white border text-sm",children:[(0,c.jsx)("thead",{children:(0,c.jsxs)("tr",{className:"bg-gray-200",children:[(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"Code Article"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[200px]",children:"D\xe9signation"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"Num\xe9ro Magasin"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[80px]",children:"Division"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[80px]",children:"Magasin"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[120px]",children:"Emplacement"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[80px]",children:"Type Magasin"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"Quantit\xe9"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[60px]",children:"Unit\xe9"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[80px]",children:"Type Stock"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[150px]",children:"D\xe9signation Type Stock"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[120px]",children:"Groupe Valorisation"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[80px]",children:"PMP"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"Valeur Stock"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[60px]",children:"Devise"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"Date EM"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"Derni\xe8re Sortie"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"Marque"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[120px]",children:"Oracle Item Code"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[200px] whitespace-normal break-words",children:"Description Migration"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"Qt\xe9 Valid\xe9e SAP"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"SAP Material"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[80px]",children:"Plant"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"Plant Valid\xe9"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[120px]",children:"Storage Location"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[150px] whitespace-normal break-words",children:"Storage Location Valid\xe9"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[80px]",children:"Local"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[100px]",children:"BIN SAP"}),(0,c.jsx)("th",{className:"py-1 px-2 border min-w-[250px] whitespace-normal break-words",children:"Bins with QTE NX"})]})}),(0,c.jsx)("tbody",{children:y})]})})]})})}},7197:(e,r,t)=>{var s=t(7009).Symbol;e.exports=s},9066:(e,r,t)=>{var s=t(7197),a=t(1587),n=t(3581),i=s?s.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):n(e)}},821:(e,r,t)=>{var s=t(6050),a=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(a,""):e}},1032:(e,r,t)=>{var s="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;e.exports=s},1587:(e,r,t)=>{var s=t(7197),a=Object.prototype,n=a.hasOwnProperty,i=a.toString,c=s?s.toStringTag:void 0;e.exports=function(e){var r=n.call(e,c),t=e[c];try{e[c]=void 0;var s=!0}catch(o){}var a=i.call(e);return s&&(r?e[c]=t:delete e[c]),a}},3581:e=>{var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},7009:(e,r,t)=>{var s=t(1032),a="object"==typeof self&&self&&self.Object===Object&&self,n=s||a||Function("return this")();e.exports=n},6050:e=>{var r=/\s/;e.exports=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}},8573:(e,r,t)=>{var s=t(8092),a=t(72),n=t(2582),i=Math.max,c=Math.min;e.exports=function(e,r,t){var o,l,d,x,p,m,h=0,u=!1,b=!1,N=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(r){var t=o,s=l;return o=l=void 0,h=r,x=e.apply(s,t)}function j(e){return h=e,p=setTimeout(f,r),u?y(e):x}function w(e){var t=e-m;return void 0===m||t>=r||t<0||b&&e-h>=d}function f(){var e=a();if(w(e))return v(e);p=setTimeout(f,function(e){var t=r-(e-m);return b?c(t,d-(e-h)):t}(e))}function v(e){return p=void 0,N&&o?y(e):(o=l=void 0,x)}function g(){var e=a(),t=w(e);if(o=arguments,l=this,m=e,t){if(void 0===p)return j(m);if(b)return clearTimeout(p),p=setTimeout(f,r),y(m)}return void 0===p&&(p=setTimeout(f,r)),x}return r=n(r)||0,s(t)&&(u=!!t.leading,d=(b="maxWait"in t)?i(n(t.maxWait)||0,r):d,N="trailing"in t?!!t.trailing:N),g.cancel=function(){void 0!==p&&clearTimeout(p),h=0,o=m=l=p=void 0},g.flush=function(){return void 0===p?x:v(a())},g}},8092:e=>{e.exports=function(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)}},3141:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},152:(e,r,t)=>{var s=t(9066),a=t(3141);e.exports=function(e){return"symbol"==typeof e||a(e)&&"[object Symbol]"==s(e)}},72:(e,r,t)=>{var s=t(7009);e.exports=function(){return s.Date.now()}},2582:(e,r,t)=>{var s=t(821),a=t(8092),n=t(152),i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(n(e))return NaN;if(a(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=a(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var t=c.test(e);return t||o.test(e)?l(e.slice(2),t?2:8):i.test(e)?NaN:+e}}}]);
//# sourceMappingURL=36.422284f7.chunk.js.map