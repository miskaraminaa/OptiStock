(self.webpackChunkadmin_dashboard_template_OptiStock=self.webpackChunkadmin_dashboard_template_OptiStock||[]).push([[791],{2782:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(3547),l=a(184);const n=function(e){let{title:t,children:a,topMargin:n,TopSideButtons:r}=e;return(0,l.jsxs)("div",{className:"card w-full p-6 bg-base-100 shadow-xl "+(n||"mt-6"),children:[(0,l.jsxs)(s.Z,{styleClass:r?"inline-block":"",children:[t,r&&(0,l.jsx)("div",{className:"inline-block float-right",children:r})]}),(0,l.jsx)("div",{className:"divider mt-2"}),(0,l.jsx)("div",{className:"h-full w-full pb-6 bg-base-100",children:a})]})}},5524:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var s=a(2791),l=a(184);const n=function(e){let{labelTitle:t,labelStyle:a,type:n,containerStyle:r,defaultValue:c,placeholder:o,updateFormValue:i,updateType:d}=e;const[m,h]=(0,s.useState)(c);return(0,l.jsxs)("div",{className:"form-control w-full ".concat(r),children:[(0,l.jsx)("label",{className:"label",children:(0,l.jsx)("span",{className:"label-text text-base-content "+a,children:t})}),(0,l.jsx)("input",{type:n||"text",value:m,placeholder:o||"",onChange:e=>{return t=e.target.value,h(t),void i({updateType:d,value:t});var t},className:"input  input-bordered w-full "})]})}},9697:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(184);const l=function(e){let{styleClass:t,children:a}=e;return(0,s.jsx)("p",{className:"text-center  text-error ".concat(t),children:a})}},3547:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var s=a(184);const l=function(e){let{styleClass:t,children:a}=e;return(0,s.jsx)("div",{className:"text-xl font-semibold ".concat(t),children:a})}},3481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>oe});var s=a(9255),l=a(2791),n=a(9434),r=a(6337),c=a(4880),o=a(8303),i=a(6084),d=a(9313),m=a(184);const h=function(){(0,n.I0)();const{noOfNotifications:e,pageTitle:t}=(0,n.v9)((e=>e.header)),[a,i]=(0,l.useState)(localStorage.getItem("theme"));return(0,l.useEffect)((()=>{(0,s.themeChange)(!1),null===a&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?i("dark"):i("light"))}),[]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"navbar sticky top-0 bg-base-100  z-10 shadow-md ",children:[(0,m.jsxs)("div",{className:"flex-1",children:[(0,m.jsx)("label",{htmlFor:"left-sidebar-drawer",className:"btn btn-primary drawer-button lg:hidden",children:(0,m.jsx)(r.Z,{className:"h-5 inline-block w-5"})}),(0,m.jsx)("h1",{className:"text-2xl font-semibold ml-2",children:t})]}),(0,m.jsxs)("div",{className:"flex-none ",children:[(0,m.jsxs)("label",{className:"swap ",children:[(0,m.jsx)("input",{type:"checkbox"}),(0,m.jsx)(o.Z,{"data-set-theme":"light","data-act-class":"ACTIVECLASS",className:"fill-current w-6 h-6 "+("dark"===a?"swap-on":"swap-off")}),(0,m.jsx)(c.Z,{"data-set-theme":"dark","data-act-class":"ACTIVECLASS",className:"fill-current w-6 h-6 "+("light"===a?"swap-on":"swap-off")})]}),(0,m.jsxs)("div",{className:"dropdown dropdown-end ml-4",children:[(0,m.jsx)("label",{tabIndex:0,className:"btn btn-ghost btn-circle avatar",children:(0,m.jsx)("div",{className:"w-10 rounded-full",children:(0,m.jsx)("img",{src:"/ocp.png",alt:"profile"})})}),(0,m.jsxs)("ul",{tabIndex:0,className:"menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52",children:[(0,m.jsx)("div",{className:"divider mt-0 mb-0"}),(0,m.jsx)("li",{children:(0,m.jsx)("a",{onClick:function(){localStorage.clear(),window.location.href="/"},children:"Logout"})})]})]})]})]})})};var x=a(7689),p=a(8593),u=a(9076);const b=(0,l.lazy)((()=>Promise.all([a.e(848),a.e(496)]).then(a.bind(a,9496)))),j=(0,l.lazy)((()=>Promise.all([a.e(640),a.e(678)]).then(a.bind(a,4678)))),N=(0,l.lazy)((()=>Promise.all([a.e(482),a.e(380)]).then(a.bind(a,9380)))),f=[{path:"/dashboard",component:b},{path:"/welcome",component:j},{path:"/leads",component:(0,l.lazy)((()=>Promise.all([a.e(352),a.e(77)]).then(a.bind(a,3077))))},{path:"/charts",component:N},{path:"/dimensions",component:(0,l.lazy)((()=>a.e(949).then(a.bind(a,1949))))},{path:"/rotations",component:p.default},{path:"/explorer",component:u.default}];var g=a(5901);const y=(0,l.lazy)((()=>a.e(158).then(a.bind(a,2158))));const w=function(){const e=(0,l.useRef)(null),{pageTitle:t}=(0,n.v9)((e=>e.header));return(0,l.useEffect)((()=>{e.current.scroll({top:0,behavior:"smooth"})}),[t]),(0,m.jsxs)("div",{className:"drawer-content flex flex-col ",children:[(0,m.jsx)(h,{}),(0,m.jsxs)("main",{className:"flex-1 overflow-y-auto md:pt-4 pt-4 px-6  bg-base-200",ref:e,children:[(0,m.jsx)(l.Suspense,{fallback:(0,m.jsx)(g.Z,{}),children:(0,m.jsxs)(x.Z5,{children:[f.map(((e,t)=>(0,m.jsx)(x.AW,{exact:!0,path:"".concat(e.path),element:(0,m.jsx)(e.component,{})},t))),(0,m.jsx)(x.AW,{path:"*",element:(0,m.jsx)(y,{})})]})}),(0,m.jsx)("div",{className:"h-16"})]})]})};var v=a(1413),S=a(1087),_=a(5409);const A=function(e){let{submenu:t,name:a,icon:s}=e;const n=(0,x.TH)(),[r,c]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{t.filter((e=>e.path===n.pathname))[0]&&c(!0)}),[]),(0,m.jsxs)("div",{className:"flex flex-col",children:[(0,m.jsxs)("div",{className:"w-full block",onClick:()=>c(!r),children:[s," ",a,(0,m.jsx)(_.Z,{className:"w-5 h-5 mt-1 float-right delay-400 duration-500 transition-all  "+(r?"rotate-180":"")})]}),(0,m.jsx)("div",{className:" w-full "+(r?"":"hidden"),children:(0,m.jsx)("ul",{className:"menu menu-compact",children:t.map(((e,t)=>(0,m.jsx)("li",{children:(0,m.jsxs)(S.rU,{to:e.path,children:[e.icon," ",e.name,n.pathname==e.path?(0,m.jsx)("span",{className:"absolute mt-1 mb-1 inset-y-0 left-0 w-1 rounded-tr-md rounded-br-md bg-primary ","aria-hidden":"true"}):null]})},t)))})})]})};var k=a(9138),E=a(1207),C=a(7626),T=a(4343),L=a(6399),D=a(747),O=a(7915),I=a(2986),P=a(9231),Z=a(1676),F=a(5022);const R=(0,l.lazy)((()=>Promise.all([a.e(848),a.e(496)]).then(a.bind(a,9496)))),M=(0,l.lazy)((()=>Promise.all([a.e(640),a.e(678)]).then(a.bind(a,4678)))),z=(0,l.lazy)((()=>Promise.all([a.e(482),a.e(380)]).then(a.bind(a,9380)))),U=(0,l.lazy)((()=>Promise.all([a.e(352),a.e(77)]).then(a.bind(a,3077)))),V=(0,l.lazy)((()=>a.e(949).then(a.bind(a,1949)))),Y=(0,l.lazy)((()=>Promise.resolve().then(a.bind(a,8593)))),B=(0,l.lazy)((()=>Promise.resolve().then(a.bind(a,9076)))),W=(0,l.lazy)((()=>a.e(888).then(a.bind(a,1244)))),q="h-6 w-6",H=()=>{console.log("[".concat((new Date).toISOString(),"] D\xe9connexion d\xe9clench\xe9e")),localStorage.clear(),console.log("[".concat((new Date).toISOString(),"] Stockage local vid\xe9 :"),localStorage),window.location.href="/login"},J=[{path:"/app/dashboard",component:R,icon:(0,m.jsx)(E.Z,{className:q}),name:"T\xe9l\xe9chargement des fichiers"},{path:"/app/leads",component:U,icon:(0,m.jsx)(O.Z,{className:q}),name:"Livraison"},{path:"/app/charts",component:z,icon:(0,m.jsx)(D.Z,{className:q}),name:"Analytique"},{path:"/app/dimensions",component:V,icon:(0,m.jsx)(P.Z,{className:q}),name:"Dimensions"},{path:"/app/rotations",component:Y,icon:(0,m.jsx)(Z.Z,{className:q}),name:"Calcul des rotations"},{path:"/app/explorer",component:B,icon:(0,m.jsx)(F.Z,{className:q}),name:"Explorer Articles"},{path:"",icon:(0,m.jsx)(L.Z,{className:"".concat(q," inline")}),name:"Param\xe8tres",submenu:[{path:"/forgot-password",component:W,icon:(0,m.jsx)(I.Z,{className:"h-5 w-5"}),name:"Mot de passe oubli\xe9"}]},{path:"/app/welcome",component:M,icon:(0,m.jsx)(C.Z,{className:q}),name:"Bienvenue"},{path:null,component:()=>H(),icon:(0,m.jsx)(T.Z,{className:q}),name:"D\xe9connexion",onClick:H}];const G=function(){const e=(0,x.TH)();return(0,m.jsxs)("div",{className:"drawer-side z-30",children:[(0,m.jsx)("label",{htmlFor:"left-sidebar-drawer",className:"drawer-overlay"}),(0,m.jsxs)("ul",{className:"menu pt-2 w-80 bg-base-100 min-h-full text-base-content",children:[(0,m.jsx)("button",{className:"btn btn-ghost bg-base-300 btn-circle z-50 top-0 right-0 mt-4 mr-2 absolute lg:hidden",onClick:()=>{document.getElementById("left-sidebar-drawer").click()},children:(0,m.jsx)(k.Z,{className:"h-5 inline-block w-5"})}),(0,m.jsx)("li",{className:"mb-2 font-semibold text-xl",children:(0,m.jsxs)(S.rU,{to:"/app/welcome",children:[(0,m.jsx)("img",{className:"mask mask-squircle w-10",src:"/stock-management.png",alt:"OptiStock Logo"}),"OptiStock"]})}),J.map(((t,a)=>(0,m.jsx)("li",{children:t.submenu?(0,m.jsx)(A,(0,v.Z)({},t)):t.onClick?(0,m.jsxs)("button",{onClick:t.onClick,className:"font-normal flex items-center w-full p-2 rounded hover:bg-base-200",children:[t.icon," ",t.name]}):(0,m.jsxs)(S.OL,{end:!0,to:t.path,className:e=>{let{isActive:t}=e;return"".concat(t?"font-semibold bg-base-200":"font-normal")},children:[t.icon," ",t.name,e.pathname===t.path?(0,m.jsx)("span",{className:"absolute inset-y-0 left-0 w-1 rounded-tr-md rounded-br-md bg-primary","aria-hidden":"true"}):null]})},a)))]})]})};var Q=a(9283);const K=function(){const{isOpen:e,bodyType:t,extraObject:a,header:s}=(0,n.v9)((e=>e.rightDrawer)),l=(0,n.I0)(),r=e=>{l((0,i.o8)(e))};return(0,m.jsxs)("div",{className:" fixed overflow-hidden z-20 bg-gray-900 bg-opacity-25 inset-0 transform ease-in-out "+(e?" transition-opacity opacity-100 duration-500 translate-x-0  ":" transition-all delay-500 opacity-0 translate-x-full  "),children:[(0,m.jsx)("section",{className:"w-80 md:w-96  right-0 absolute bg-base-100 h-full shadow-xl delay-400 duration-500 ease-in-out transition-all transform  "+(e?" translate-x-0 ":" translate-x-full "),children:(0,m.jsx)("div",{className:"relative  pb-5 flex flex-col  h-full",children:(0,m.jsxs)("div",{className:"navbar   flex pl-4 pr-4   shadow-md ",children:[(0,m.jsx)("button",{className:"float-left btn btn-circle btn-outline btn-sm",onClick:()=>r(),children:(0,m.jsx)(Q.Z,{className:"h-5 w-5"})}),(0,m.jsx)("span",{className:"ml-2 font-bold text-xl",children:s})]})})}),(0,m.jsx)("section",{className:" w-screen h-full cursor-pointer ",onClick:()=>r()})]})};var X=a(5054),$=a(4221),ee=(a(1138),a(8060)),te=a(5524),ae=a(9697),se=a(190);const le={first_name:"",last_name:"",email:""};const ne=function(e){let{closeModal:t}=e;const a=(0,n.I0)(),[s,r]=(0,l.useState)(!1),[c,o]=(0,l.useState)(""),[i,d]=(0,l.useState)(le),h=e=>{let{updateType:t,value:a}=e;o(""),d((0,v.Z)((0,v.Z)({},i),{},{[t]:a}))};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(te.Z,{type:"text",defaultValue:i.first_name,updateType:"first_name",containerStyle:"mt-4",labelTitle:"First Name",updateFormValue:h}),(0,m.jsx)(te.Z,{type:"text",defaultValue:i.last_name,updateType:"last_name",containerStyle:"mt-4",labelTitle:"Last Name",updateFormValue:h}),(0,m.jsx)(te.Z,{type:"email",defaultValue:i.email,updateType:"email",containerStyle:"mt-4",labelTitle:"Email Id",updateFormValue:h}),(0,m.jsx)(ae.Z,{styleClass:"mt-16",children:c}),(0,m.jsxs)("div",{className:"modal-action",children:[(0,m.jsx)("button",{className:"btn btn-ghost",onClick:()=>t(),children:"Cancel"}),(0,m.jsx)("button",{className:"btn btn-primary px-6",onClick:()=>(()=>{if(""===i.first_name.trim())return o("First Name is required!");if(""===i.email.trim())return o("Email id is required!");{let e={id:7,email:i.email,first_name:i.first_name,last_name:i.last_name,avatar:"https://reqres.in/img/faces/1-image.jpg"};a((0,se.Yf)({newLeadObj:e})),a((0,X.c0)({message:"New Lead Added!",status:1})),t()}})(),children:"Save"})]})]})};const re=function(e){let{extraObject:t,closeModal:a}=e;const s=(0,n.I0)(),{message:l,type:r,_id:c,index:o}=t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:" text-xl mt-8 text-center",children:l}),(0,m.jsxs)("div",{className:"modal-action mt-12",children:[(0,m.jsx)("button",{className:"btn btn-outline   ",onClick:()=>a(),children:"Cancel"}),(0,m.jsx)("button",{className:"btn btn-primary w-36",onClick:()=>(async()=>{r===d.CONFIRMATION_MODAL_CLOSE_TYPES.LEAD_DELETE&&(s((0,se.u9)({index:o})),s((0,X.c0)({message:"Lead Deleted!",status:1}))),a()})(),children:"Yes"})]})]})};const ce=function(){const{isOpen:e,bodyType:t,size:a,extraObject:s,title:l}=(0,n.v9)((e=>e.modal)),r=(0,n.I0)(),c=e=>{r((0,ee.Mr)(e))};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"modal ".concat(e?"modal-open":""),children:(0,m.jsxs)("div",{className:"modal-box  ".concat("lg"===a?"max-w-5xl":""),children:[(0,m.jsx)("button",{className:"btn btn-sm btn-circle absolute right-2 top-2",onClick:()=>c(),children:"\u2715"}),(0,m.jsx)("h3",{className:"font-semibold text-2xl pb-6 text-center",children:l}),{[d.MODAL_BODY_TYPES.LEAD_ADD_NEW]:(0,m.jsx)(ne,{closeModal:c,extraObject:s}),[d.MODAL_BODY_TYPES.CONFIRMATION]:(0,m.jsx)(re,{extraObject:s,closeModal:c}),[d.MODAL_BODY_TYPES.DEFAULT]:(0,m.jsx)("div",{})}[t]]})})})};const oe=function(){const e=(0,n.I0)(),{newNotificationMessage:t,newNotificationStatus:a}=(0,n.v9)((e=>e.header));return(0,l.useEffect)((()=>{""!==t&&(1===a&&$.fn.success(t,"Success"),0===a&&$.fn.error(t,"Error"),e((0,X.DO)()))}),[t]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"drawer  lg:drawer-open",children:[(0,m.jsx)("input",{id:"left-sidebar-drawer",type:"checkbox",className:"drawer-toggle"}),(0,m.jsx)(w,{}),(0,m.jsx)(G,{})]}),(0,m.jsx)(K,{}),(0,m.jsx)($.mh,{}),(0,m.jsx)(ce,{})]})}},9076:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(2791),l=a(1989),n=a(184);const r=()=>{const[e,t]=(0,s.useState)([]),[a,r]=(0,s.useState)(!0),[c,o]=(0,s.useState)(null);return(0,s.useEffect)((()=>{(async()=>{const e=localStorage.getItem("token");if(!e)return o("No session found. Please log in."),void r(!1);try{const a=await l.Z.get("".concat("http://localhost:5000","/explore"),{headers:{Authorization:"Bearer ".concat(e)},timeout:1e4});if(!a.data||!a.data.data)throw new Error("Invalid response data");t(a.data.data)}catch(c){var a,s,n;const e=(null===(a=c.response)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.message)||c.message||"Failed to fetch articles";o(e.includes("404")?"Resource not found":e),console.error("[".concat((new Date).toISOString(),"] API Error:"),(null===(n=c.response)||void 0===n?void 0:n.data)||c.message)}finally{r(!1)}})()}),[]),a?(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,n.jsx)("p",{className:"text-xl text-gray-600",children:"Loading..."})}):c?(0,n.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xl text-red-600",children:c}),(0,n.jsx)("button",{className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",onClick:()=>window.location.reload(),children:"Retry"})]})}):(0,n.jsxs)("div",{className:"max-w-6xl mx-auto p-6 bg-gray-100 min-h-screen",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Article Exploration"}),0===e.length?(0,n.jsx)("p",{className:"text-center text-gray-500",children:"No articles to display."}):(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"w-full border-collapse bg-white shadow-md rounded-lg",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"bg-gray-200",children:[(0,n.jsx)("th",{className:"border p-2",children:"Article"}),(0,n.jsx)("th",{className:"border p-2",children:"Quantit\xe9"}),(0,n.jsx)("th",{className:"border p-2",children:"Type de Stock"}),(0,n.jsx)("th",{className:"border p-2",children:"D\xe9signation Type Stock"}),(0,n.jsx)("th",{className:"border p-2",children:"Valeur Stock"}),(0,n.jsx)("th",{className:"border p-2",children:"LE Produit"}),(0,n.jsx)("th",{className:"border p-2",children:"LE Document"}),(0,n.jsx)("th",{className:"border p-2",children:"LE Statut T\xe2che"}),(0,n.jsx)("th",{className:"border p-2",children:"LE Statut Activit\xe9"}),(0,n.jsx)("th",{className:"border p-2",children:"LE Statut Pr\xe9l\xe8vement"}),(0,n.jsx)("th",{className:"border p-2",children:"LS Produit"}),(0,n.jsx)("th",{className:"border p-2",children:"LS Document"}),(0,n.jsx)("th",{className:"border p-2",children:"LS Statut Tache"}),(0,n.jsx)("th",{className:"border p-2",children:"LS Statut Activit\xe9"}),(0,n.jsx)("th",{className:"border p-2",children:"LS Statut Pr\xe9l\xe8vement"})]})}),(0,n.jsx)("tbody",{children:e.map(((e,t)=>(0,n.jsxs)("tr",{className:"hover:bg-gray-100",children:[(0,n.jsx)("td",{className:"border p-2",children:e.article||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.quantite||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.type_stock||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.designation_type_stock||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.valeur_stock||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.Produit||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.Document||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.Statut_tache_magasin||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.le_statut_activite||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.le_statut_prelevement||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.ls_produit||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.ls_document||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.ls_statut_tache||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.ls_statut_activite||"N/A"}),(0,n.jsx)("td",{className:"border p-2",children:e.ls_statut_prelevement||"N/A"})]},t)))})]})})]})}},8593:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(2791),l=a(2782),n=a(4045),r=a(184);const c=()=>{const[e,t]=(0,s.useState)(null),[a,c]=(0,s.useState)(null),[o,i]=(0,s.useState)(""),[d,m]=(0,s.useState)({plant:[],slc:[],wj01:[]}),h=(0,s.useRef)(null),x=(e,a)=>{const s=e.target.files[0];s&&("movement"===a?t(s):"stock"===a&&c(s),i("".concat(s.name," uploaded successfully.")))};return(0,r.jsx)(l.Z,{title:"Calcul des Rotations",children:(0,r.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-lg",children:[(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"S\xe9lection des Fichiers"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fichier Mouvement"}),(0,r.jsx)("input",{type:"file",accept:".xlsx, .xls",onChange:e=>x(e,"movement"),className:"w-full p-2 border border-gray-300 rounded-md"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fichier \xc9tat de Stock"}),(0,r.jsx)("input",{type:"file",accept:".xlsx, .xls",onChange:e=>x(e,"stock"),className:"w-full p-2 border border-gray-300 rounded-md"})]})]}),(0,r.jsx)("button",{onClick:()=>{if(!e||!a)return void i("Please upload both movement and stock files.");const t=new FileReader,s=new FileReader;t.onload=e=>{const t=new Uint8Array(e.target.result),l=n.ij(t,{type:"array"}),r=l.Sheets[l.SheetNames[0]],c=n.P6.sheet_to_json(r);s.onload=e=>{const t=new Uint8Array(e.target.result),a=n.ij(t,{type:"array"}),s=a.Sheets[a.SheetNames[0]],l=(n.P6.sheet_to_json(s),c.filter((e=>e.Plant)).map((e=>({id:e.ID||"N/A",plant:e.Plant,rotation:100*Math.random()})))),r=c.filter((e=>e.SLC)).map((e=>({id:e.ID||"N/A",slc:e.SLC,rotation:100*Math.random()}))),o=c.filter((e=>e.WJ01)).map((e=>({id:e.ID||"N/A",wj01:e.WJ01,rotation:100*Math.random()})));m({plant:l,slc:r,wj01:o}),i("Rotations calculated successfully.")},s.readAsArrayBuffer(a)},t.readAsArrayBuffer(e)},className:"mt-4 px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Calculer les Rotations"})]}),o&&(0,r.jsx)("p",{className:"mt-4 text-sm text-center text-red-600",children:o}),(0,r.jsx)("div",{className:"mt-8",children:["plant","slc","wj01"].map((e=>(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Rotation par ","plant"===e?"Plant":"slc"===e?"SLC":"WJ01"]}),(0,r.jsxs)("div",{className:"mb-4 flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>(e=>{const t="plant"===e?d.plant:"slc"===e?d.slc:d.wj01;if(0===t.length)return void i("No data to export.");const a=n.P6.json_to_sheet(t),s=n.P6.book_new();n.P6.book_append_sheet(s,a,"Rotation_".concat(e));const l=n.cW(s,{bookType:"xlsx",type:"array"}),r=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"}),c=URL.createObjectURL(r),o=document.createElement("a");o.href=c,o.download="rotation_".concat(e,"_export_").concat((new Date).toISOString().split("T")[0],".xlsx"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(c)})(e),className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Exporter en Excel"}),(0,r.jsx)("button",{onClick:()=>(e=>{const t=h.current;if(!t)return void console.error("Table reference is null. Ensure the table is rendered.");const a=window.open("","","height=600,width=800");a?(a.document.write("<html><head><title>Print</title>"),a.document.write("<style>body { margin: 0; } table { width: 100%; border-collapse: collapse; } th, td { border: 1px solid #ddd; padding: 8px; text-align: left; } th { background-color: #f2f2f2; }</style>"),a.document.write("</head><body>"),a.document.write(t.outerHTML),a.document.write("</body></html>"),a.document.close(),a.focus(),a.print(),a.close()):console.error("Failed to open print window. Check browser popup settings.")})(),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Imprimer"})]}),d[e].length>0?(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{ref:h,className:"min-w-full bg-white border border-gray-300",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100",children:[(0,r.jsx)("th",{className:"py-2 px-4 border-b text-left text-sm font-medium text-gray-700",children:"ID"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b text-left text-sm font-medium text-gray-700",children:"plant"===e?"Plant":"slc"===e?"SLC":"WJ01"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b text-left text-sm font-medium text-gray-700",children:"Rotation"})]})}),(0,r.jsx)("tbody",{children:d[e].map(((t,a)=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,r.jsx)("td",{className:"py-2 px-4 border-b text-sm text-gray-900",children:t.id}),(0,r.jsx)("td",{className:"py-2 px-4 border-b text-sm text-gray-900",children:t[e]}),(0,r.jsx)("td",{className:"py-2 px-4 border-b text-sm text-gray-900",children:t.rotation.toFixed(2)})]},a)))})]})}):(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Aucune rotation calcul\xe9e."})]},e)))})]})})}},9313:e=>{e.exports=Object.freeze({MODAL_BODY_TYPES:{USER_DETAIL:"USER_DETAIL",LEAD_ADD_NEW:"LEAD_ADD_NEW",CONFIRMATION:"CONFIRMATION",DEFAULT:""},RIGHT_DRAWER_TYPES:{NOTIFICATION:"NOTIFICATION",CALENDAR_EVENTS:"CALENDAR_EVENTS"},CONFIRMATION_MODAL_CLOSE_TYPES:{LEAD_DELETE:"LEAD_DELETE"}})}}]);
//# sourceMappingURL=791.2f016b6b.chunk.js.map